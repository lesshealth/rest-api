Архитектура Видеохостинга
Видеохостинг генерирует прибыль через несколько источников:

Реклама: Показ рекламы перед, во время или после видео.

Подписка: Премиум-подписка для пользователей, позволяющая просматривать видео без рекламы и получать доступ к эксклюзивному контенту.

Продажа данных и аналитики: Оказание аналитических услуг для рекламодателей и создателей контента на основе пользовательских данных.

Платные функции для создателей контента: Дополнительные платные инструменты для продвижения их видео и аналитики просмотров.


Основные пользователи:
Зрители — Пользователи, которые просматривают видео на платформе.
Создатели контента — Пользователи, которые загружают и монетизируют свои видео.
Рекламодатели — Компании, размещающие рекламу на платформе.

User Stories:
Зритель может просматривать бесплатные видео с рекламой. При просмотре видео воспроизводится реклама, что генерирует прибыль.
Создатель контента загружает видео и монетизирует его. Чем больше просмотров на видео, тем выше доход для платформы и создателя.
Зритель может оформить премиум-подписку, чтобы избавиться от рекламы. Платформа генерирует прибыль за счет подписок.
Рекламодатель может создать кампанию, нацеленную на конкретные сегменты аудитории. Рекламодатели платят за доступ к целевой аудитории.
Создатель контента может продвигать свое видео для увеличения охвата. Это платная функция, которая помогает платформе и создателю.

Интерфейсы и компоненты для работы:
Фронтенд интерфейс — Для зрителей, создателей контента и рекламодателей.
API для видеообработки — Для загрузки, обработки и публикации видео.
Система рекламы — Показ рекламы на основе предпочтений пользователей.
Платежная система — Для обработки транзакций подписок и рекламных кампаний.
Система аналитики — Для сбора данных о просмотрах, рекламных показах и действиях пользователей.
Структура сервисов и их взаимодействие:
1)Сервис загрузки и обработки видео:
Методы: uploadVideo, processVideo, publishVideo
Описание: Загрузчик позволяет пользователям добавлять файлы, которые затем кодируются и оптимизируются для потокового воспроизведения.
Точки взаимодействия: Принимает запросы от фронтенда, передает данные в систему хранения.
2)Рекламный сервис:
Методы: serveAd, targetAd, trackAdPerformance
Описание: Сервис таргетирует рекламу на основе интересов пользователей, используя данные из аналитической базы.
Точки взаимодействия: Использует данные из аналитического сервиса для таргетинга, обновляет рекламные отчеты.
3)Сервис подписок и платежей:
Методы: createSubscription, processPayment, manageSubscription
Описание: Обрабатывает транзакции для подписок и услуг.
Точки взаимодействия: Принимает запросы от фронтенда, обновляет данные в базе подписчиков.
4)Сервис аналитики:
Методы: trackView, generateReport, analyzeUserBehavior
Описание: Собирает и анализирует данные о просмотрах и рекламных кампаниях.
Точки взаимодействия: Отправляет данные рекламному сервису и создателям контента.
5)Сервис рекомендаций:
Методы: generateRecommendation, updateRecommendationModel
Описание: Генерирует рекомендации на основе поведения пользователей.
Точки взаимодействия: Использует данные из аналитической базы, отправляет результаты на фронтенд.

Протоколы и базы данных:
Протоколы: REST API для взаимодействия сервисов, gRPC для обработки видео, WebSocket для обновлений в реальном времени.
Базы данных:
Видео и метаданные (NoSQL, например, MongoDB или S3 для хранения файлов)
Аналитика и статистика (ClickHouse или BigQuery)
Рекламные кампании (SQL, например, PostgreSQL)
Подписчики и платежи (SQL с поддержкой транзакций, например, MySQL)
